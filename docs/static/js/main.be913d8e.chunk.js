(this["webpackJsonpmy-react-project"]=this["webpackJsonpmy-react-project"]||[]).push([[0],{21:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(15),i=n.n(r),a=(n(21),n(10)),s=n(2),l=function(){return fetch("https://rickandmortyapi.com/api/character").then((function(e){return e.json()})).then((function(e){return e.results.map((function(e){return{id:e.id,image:e.image,name:e.name,species:e.species,status:e.status,origin:e.origin.name,episode:e.episode.length}}))}))},j={get:function(e,t){var n=localStorage.getItem(e);return null===n?t:JSON.parse(n)},set:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},o=n(7),u=n(0),h=function(e){return Object(u.jsx)(o.b,{to:"/character/".concat(e.data.id),children:Object(u.jsxs)("article",{children:[Object(u.jsx)("img",{src:e.data.image,alt:"Foto de ".concat(e.data.name),title:"Foto de ".concat(e.data.name)}),Object(u.jsx)("h4",{children:e.data.name}),Object(u.jsx)("p",{children:e.data.species})]})})};var d=function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("p",{children:["no hay ningun personaje que coincida con ",e.character]})})};var b=function(e){if(0===e.character.length)return Object(u.jsx)(d,{onClick:e.onClick,character:e.filterName});var t=e.character.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)(h,{data:e})},e.id)}));return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("ul",{children:t})})},f=function(e){return console.log(e.user),Object(u.jsxs)("div",{children:[Object(u.jsx)(o.b,{to:"/",children:"Volver"}),Object(u.jsxs)("section",{children:[Object(u.jsx)("img",{src:e.user.image,alt:e.user.name}),Object(u.jsx)("h4",{children:e.user.name}),Object(u.jsxs)("ul",{children:[Object(u.jsxs)("li",{children:["Status: ",e.user.status]}),Object(u.jsxs)("li",{children:["Species: ",e.user.species]}),Object(u.jsxs)("li",{children:["Origin: ",e.user.origin]}),Object(u.jsxs)("li",{children:["Episode: ",e.user.episode]})]})]})]})},O=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("label",{htmlFor:"name"}),Object(u.jsx)("input",{type:"text",name:"name",id:"name",value:e.filterName,onChange:function(t){e.handleFilter({value:t.target.value,key:"name"})}})]})},m=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("label",{htmlFor:"species",children:"Especies:"}),Object(u.jsxs)("select",{name:"species",id:"species",value:e.filterSpecies,onChange:function(t){e.handleFilter({value:t.target.value,key:"species"})},children:[Object(u.jsx)("option",{value:"",children:"Todos"}),Object(u.jsx)("option",{value:"Human",children:"Humano"}),Object(u.jsx)("option",{value:"Alien",children:"Alien"})]})]})};var p=function(e){return Object(u.jsx)("section",{children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(u.jsx)(O,{filterName:e.filterName,handleFilter:e.handleFilter}),Object(u.jsx)(m,{filterSpecies:e.filterSpecies,handleFilter:e.handleFilter})]})})};n(31);var x=function(){var e=Object(c.useState)(j.get("character",[])),t=Object(a.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(j.get("filterName","")),o=Object(a.a)(i,2),h=o[0],d=o[1],O=Object(c.useState)(j.get("filterSpecies","")),m=Object(a.a)(O,2),x=m[0],g=m[1];Object(c.useEffect)((function(){l().then((function(e){var t=e.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}));return r(t)}))}),[]),Object(c.useEffect)((function(){j.set("character",n)}),[n]),Object(c.useEffect)((function(){j.set("character",n),j.set("filterName",h),j.set("filterSpecies",x)}),[n,h,x]);var v=n.filter((function(e){return e.name.toLowerCase().includes(h.toLowerCase())})).filter((function(e){return""===x||e.species===x}));return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(s.c,{children:[Object(u.jsxs)(s.a,{exact:!0,path:"/",children:[Object(u.jsx)(p,{filterName:h,filterSpecies:x,handleFilter:function(e){"name"===e.key?d(e.value):"species"===e.key&&g(e.value)}}),Object(u.jsx)(b,{character:v,OnClick:function(){d("")},filterName:h}),";"]}),Object(u.jsx)(s.a,{path:"/character/:ChaId",render:function(e){var t=e.match.params.ChaId,c=n.find((function(e){return e.id===parseInt(t)}));return c?Object(u.jsx)(f,{user:c}):Object(u.jsx)("p",{children:"No se ha encontrado ning\xfan personaje"})}})]})})};i.a.render(Object(u.jsx)(o.a,{children:Object(u.jsx)(x,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.be913d8e.chunk.js.map